function checkField(e,o,l){return e?(o.value=e,l.focus(),!0):(o.focus(),!1)}var ESC_CODE=27,feedBackBtn=document.querySelector(".feedback"),popup=document.querySelector(".popup"),form=document.querySelector(".wright-us"),close=document.querySelector(".form-close"),nameField=form.querySelector("[name=name]"),emailField=form.querySelector("[name=e-mail]"),letterField=form.querySelector("[name=letter]"),storageName=localStorage.getItem("userName"),storageEmail=localStorage.getItem("userEmail");feedBackBtn.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),checkField(storageName,nameField,emailField)&&checkField(storageEmail,emailField,letterField)}),form.addEventListener("submit",function(e){nameField.value&&emailField.value&&letterField.value?(localStorage.setItem("userName",nameField.value),localStorage.setItem("userEmail",nameField.value)):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){e.keyCode===ESC_CODE&&popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error"))});